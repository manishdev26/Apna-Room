<!-- ye jo hai index.js ye ek ( main templet ) hai 
esi par initialize data ko use krke es par render kr dete hai  -->

<%- layout('layouts/boilerplate') %>

  <body>
    <h3>All Listings</h3>
    
    <!-- <form method="GET" action="/listings/new">

      ye button submit krne par ye action vala route pe bhej dega -->
      <!-- <button>Create New Listing</button>    

    </form>-->


    <!-- row div ke ander esiliye diye hai taki jitna bhi card hai vah sabhi
    row mai arrange ho jaye -->

 
    <div class="row row-cols-lg-3 row-col-md-2 row-cols-sm-1">   
      <% for(let listing of allListings) { %>
      <a href="/listings/<%= listing._id %>" class="listing-link">  
      <div class="card col listing-card" >
        <img src="<%=listing.image.url  %>" class="card-img-top" alt="listing_image" style=" height:20rem">
        <div class="card-img-overlay"></div>
        <div class="card-body">
        <p class="card-text">
          <b><%= listing.title %></b><br>
          
           <% if (listing.price != null) { %>
              &#8377; <%= listing.price.toLocaleString("en-IN") %>/night
            <% } else { %>
              Price not available
            <% } %>

        </p>
        </div>
      </div>
      </a> 
  <% } %>
    </div>

    

  
  </body>
